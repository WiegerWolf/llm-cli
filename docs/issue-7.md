# Plan for Issue 7: Integrate Status Messages into History Log

This document outlines the steps to address Issue 7, which involves moving status bar messages into the main history log and removing the dedicated status bar.

## Analysis Summary

*   Status messages are generated by the worker thread calling `GuiInterface::displayStatus`.
*   These messages are queued with type `DisplayMessageType::STATUS`.
*   The GUI thread's `GuiInterface::processDisplayQueue` function currently handles these messages by updating a dedicated `status` string variable in `main_gui.cpp`.
*   The status bar is rendered in `main_gui.cpp` using this `status` variable.
*   Other message types (`OUTPUT`, `ERROR`) are already added to the `history` vector in `processDisplayQueue`.

## Implementation Plan

1.  **Modify `GuiInterface::processDisplayQueue` (`gui_interface/gui_interface.cpp`):**
    *   [ ] Locate the `switch` statement handling `DisplayMessageType`.
    *   [ ] Change the `case DisplayMessageType::STATUS:` block:
        *   Instead of assigning `message` to the `status` reference (`status = message;`), append the message to the `history` vector reference.
        *   Prefix the message with `"[STATUS] "` before appending (e.g., `history.push_back("[STATUS] " + message);`).
        *   Ensure `history_updated` is set to `true` in this case as well.
    *   [ ] Remove the `std::string& status` parameter from the `processDisplayQueue` function signature.

2.  **Modify `main_gui.cpp`:**
    *   [ ] Remove the `std::string status_text` variable declaration (around line 49).
    *   [ ] Update the call to `gui_ui.processDisplayQueue` (around line 66) to remove the `status_text` argument.
    *   [ ] Remove the `status_height` constant definition (around line 73).
    *   [ ] Adjust the `output_height` calculation (around line 74) to remove the subtraction of `status_height`.
    *   [ ] Remove the `ImGui::Separator()` line (around line 116) that precedes the status bar text.
    *   [ ] Remove the `ImGui::TextUnformatted(status_text.c_str());` line (around line 117) that renders the status bar text.

3.  **Testing:**
    *   [ ] Compile and run the GUI application.
    *   [ ] Verify that status messages (e.g., "Initializing...", "Ready.", messages during processing) now appear within the main log window, prefixed with "[STATUS] ".
    *   [ ] Verify that the dedicated status bar at the bottom of the window is no longer present.
    *   [ ] Verify that the layout adjusts correctly and the output window uses the space previously occupied by the status bar.